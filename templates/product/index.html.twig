{% extends 'base.html.twig' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-3 col-lg-2">
            <h3>Filtrer</h3>
            {{ form_start(formSearchProduct) }}
                {{ form_label(formSearchProduct.string) }}
                {{ form_widget(formSearchProduct.string) }}
                <hr>
                {{ form_label(formSearchProduct.categories) }}
                {{ form_widget(formSearchProduct.categories) }}
                {{ form_widget(formSearchProduct.submit) }}
            {{ form_end(formSearchProduct) }}
        </div>
        <div class="col-12 col-md-9" id="product-col">
            <h3>Nos produits</h3>
            {% for product in products %}
                {{ include('product/_product.html.twig') }}
            {% endfor %}
        </div>
    </div>
    <div class="row">
        <div class="col-md-3 col-lg-2"></div>
        <div class="col-12 col-md-9">
            <div class="pagination mt-1">
                {{ knp_pagination_render(products) }}
            </div>
        </div>
    </div>
{% endblock %}
{% block script %}
    <script>
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    </script>
    <script>
        $(document).ready(function() {
            $('.product-select-category-index').select2({
                width: '100%'
            });
        });
    </script>
{% endblock %}